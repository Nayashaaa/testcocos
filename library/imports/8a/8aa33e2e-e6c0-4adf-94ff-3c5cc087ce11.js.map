{"version":3,"sources":["assets\\Scripts\\timer.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["\r\nconst {ccclass, property} = cc._decorator;\r\nimport HomeScreen from \"./homescreen\";\r\n@ccclass\r\nexport default class NewClass extends cc.Component {\r\n\r\n    @property(cc.Label)\r\n    timeLabel: cc.Label = null;\r\n\r\n    @property(cc.Button)\r\n    toggleButton: cc.Button = null;\r\n\r\n    @property(cc.Button)\r\n    eixtButton: cc.Button = null;\r\n\r\n    @property(cc.Label)\r\n    buttonLabel: cc.Label = null;\r\n\r\n    @property(cc.Node)\r\n    loadingScreen: cc.Node = null;\r\n\r\n    @property(cc.Node)\r\n    loadNode: cc.Node = null;\r\n\r\n\r\n    private isRunning: boolean = false;\r\n    private elapsedTime: number = 0;\r\n    private intervalId: number = null;\r\n\r\n    onLoad() {\r\n        this.updateTimeLabel();\r\n        this.updateButtonLabel();\r\n        this.toggleButton.node.on('click', this.toggleTimer, this);\r\n        this.eixtButton.node.on('click', this.exitGame, this);\r\n    }\r\n\r\n    toggleTimer() {\r\n        if (this.isRunning) {\r\n            this.stopTimer();\r\n        } else {\r\n            this.startTimer();\r\n        }\r\n        this.updateButtonLabel(); // Update button label based on state\r\n    }\r\n\r\n    startTimer() {\r\n        this.isRunning = true;\r\n        this.intervalId = setInterval(() => {\r\n            this.elapsedTime += 0.1;\r\n            this.updateTimeLabel();\r\n        }, 100); // Update every 0.1 second\r\n    }\r\n\r\n    stopTimer() {\r\n        this.isRunning = false;\r\n        clearInterval(this.intervalId);\r\n        this.intervalId = null;\r\n    }\r\n\r\n    updateTimeLabel() {\r\n        this.timeLabel.string = this.elapsedTime.toFixed(1) + \"s\";\r\n    }\r\n\r\n    updateButtonLabel() {\r\n        this.buttonLabel.string = this.isRunning ? \"Stop\" : \"Start\";\r\n    }\r\n    public showLoadingScreen() {\r\n        this.loadingScreen.active = true; \r\n    }\r\n\r\n    exitGame() {\r\n        this.showLoadingScreen();\r\n        this.loadNode.anchorX = 0;\r\n        this.scaleNode();\r\n        this.scheduleOnce(() => {\r\n            cc.director.loadScene(\"HomeScene\"); // Load the Stopwatch scene\r\n        }, 2);\r\n\r\n    }\r\n\r\n    scaleNode(){\r\n        const targetScaleX = 25;\r\n\r\n        cc.tween(this.loadNode)\r\n            .to(2, { scaleX: targetScaleX })\r\n            .start();\r\n    }\r\n  \r\n}\r\n"]}